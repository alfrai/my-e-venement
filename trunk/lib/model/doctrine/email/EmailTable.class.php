<?php

/**
 * EmailTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class EmailTable extends PluginEmailTable
{
    /**
     * Returns an instance of this class.
     *
     * @return object EmailTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Email');
    }
  
  public function createQuery($alias = 'e')
  {
    $u  = 'u'  != $alias ? 'u'  : 'u1';
    $c  = 'c'  != $alias ? 'c'  : 'c1';
    $p  = 'p'  != $alias ? 'p'  : 'p1';
    $o  = 'o'  != $alias ? 'o'  : 'o1';
    
    $query = parent::createQuery($alias)
      ->leftJoin("$alias.User $u")
      ->where("$alias.deleted_at IS NULL");
    return $query;
  }
}
